CREATE TABLE "tags" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY,
  "color_id" INT NOT NULL,
  "name" varchar NOT NULL,
  PRIMARY KEY ("id")
);

ALTER TABLE "tags" ADD FOREIGN KEY ("color_id") REFERENCES "colors" ("id");

CREATE TABLE "user_tags" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY,
  "user_id" INT NOT NULL,
  "tag_id" INT NOT NULL,
  PRIMARY KEY ("id")
);

ALTER TABLE "user_tags" ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE "user_tags" ADD FOREIGN KEY ("tag_id") REFERENCES "tags" ("id") ON DELETE CASCADE ON UPDATE CASCADE;