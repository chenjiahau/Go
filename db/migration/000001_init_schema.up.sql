CREATE TABLE "users" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY,
  "username" varchar NOT NULL,
  "password" varchar NOT NULL,
  "full_name" varchar,
  "created_at" timestamp DEFAULT (now()),
  PRIMARY KEY ("id")
);

CREATE TABLE "entry_types" (
  "id" int,
  "name" varchar,
  "created_at" timestamp DEFAULT (now()),
  PRIMARY KEY ("id")
);

CREATE TABLE "entries" (
  "id" int,
  "entry_id" int,
  "type_id" int,
  "release_version" varchar,
  "priority" int,
  "created_at" timestamp DEFAULT (now()),
  PRIMARY KEY ("id")
);

CREATE TABLE "comments" (
  "id" int,
  "entry_id" int,
  "user_id" int,
  "content" text,
  "created_at" timestamp DEFAULT (now()),
  PRIMARY KEY ("id")
);

ALTER TABLE "entries" ADD FOREIGN KEY ("entry_id") REFERENCES "entry_types" ("id");

ALTER TABLE "comments" ADD FOREIGN KEY ("entry_id") REFERENCES "entries" ("id");

ALTER TABLE "comments" ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id");
